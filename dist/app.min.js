function User(e){var n=e;this.getName=function(){return n}}function ChatApp(e,n){var t=e,s=n;this.init=function(){a(),i(),u()};var a=function(){var e=$('<input class="messageToSend" type="text" placeholder="Send message...">'),n=$('<input class="sendButton" type="submit" value="Send" disabled>'),a=$('<form onsubmit="return false">').append(e).append(n),i=$("<h2>"+t+" discute avec "+s+"</h2>"),p=$('<div class="chatWindow"></div>'),u=$("<section id="+t+">").append(i,p,a);$("#container").append(u)},i=function(){$("#"+t+" input.messageToSend").on("input",function(){var e=$("#"+t+" input.messageToSend").val();e&&0!==e.length?$("#"+t+" input.sendButton").prop("disabled",!1):$("#"+t+" input.sendButton").prop("disabled",!0)})},p=function(){function e(e){return 10>e?"0"+e:e}var n=new Date,t=e(n.getHours()),s=e(n.getMinutes()),a=e(n.getSeconds()),i="["+t+":"+s+":"+a+"]";return i},u=function(){$("#"+t+" input.sendButton").on("click",function(){function e(e){var n=$("#"+t+" input.messageToSend").val(),s=$('<span class="time">').text(p()+" "),a=$("<p>").append(s).append(e).append($('<span class="text">').text(n));return a}var n=$('<span class="sender">').text("<"+t+"> "),a=$('<span class="recipient">').text("<"+t+"> ");$("#"+t+" .chatWindow").append(e(n)),$("#"+s+" .chatWindow").append(e(a)),$("#"+t+" input.messageToSend").val(""),$("#"+t+" input.sendButton").prop("disabled",!0),$(".chatWindow").scrollTop($(".chatWindow")[0].scrollHeight)})}}user1=new User("User1"),user2=new User("User2"),user1Chat=new ChatApp(user1.getName(),user2.getName()),user2Chat=new ChatApp(user2.getName(),user1.getName()),user1Chat.init(),user2Chat.init();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXIuanMiLCJDaGF0QXBwLmpzIiwiYXBwLmpzIl0sIm5hbWVzIjpbIlVzZXIiLCJuZXdOYW1lIiwibmFtZSIsInRoaXMiLCJnZXROYW1lIiwiQ2hhdEFwcCIsIm5ld1NlbmRlciIsIm5ld1JlY2lwaWVudCIsInNlbmRlciIsInJlY2lwaWVudCIsImluaXQiLCJkcmF3Q2hhdCIsImVuYWJsZVNlbmQiLCJzZW5kaW5nTWVzc2FnZSIsImlucHV0VGV4dCIsIiQiLCJidXR0b24iLCJmb3JtIiwiYXBwZW5kIiwidGl0bGUiLCJ3aW5kb3dDaGF0IiwiY2hhdE1vZHVsZSIsIm9uIiwidGV4dCIsInZhbCIsImxlbmd0aCIsInByb3AiLCJnZXRUaW1lIiwicGFkIiwibiIsImRhdGUiLCJEYXRlIiwiaG91cnMiLCJnZXRIb3VycyIsIm1pbnV0ZXMiLCJnZXRNaW51dGVzIiwic2Vjb25kZXMiLCJnZXRTZWNvbmRzIiwidGltZSIsImxpbmVDb25zdHJ1Y3QiLCJkaXNwbGF5VXNlciIsImxpbmUiLCJkaXNwbGF5U2VuZGVyIiwiZGlzcGxheVJlY2lwaWVudCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsInVzZXIxIiwidXNlcjIiLCJ1c2VyMUNoYXQiLCJ1c2VyMkNoYXQiXSwibWFwcGluZ3MiOiJBQUFBLFFBQUFBLE1BQUFDLEdBQ0EsR0FBQUMsR0FBQUQsQ0FFQUUsTUFBQUMsUUFBQSxXQUNBLE1BQUFGLElDSkEsUUFBQUcsU0FBQUMsRUFBQUMsR0FDQSxHQUFBQyxHQUFBRixFQUNBRyxFQUFBRixDQUVBSixNQUFBTyxLQUFBLFdBQ0FDLElBQ0FDLElBQ0FDLElBSUEsSUFBQUYsR0FBQSxXQUVBLEdBQUFHLEdBQUFDLEVBQUEsMkVBQ0FDLEVBQUFELEVBQUEsa0VBQ0FFLEVBQUFGLEVBQUEsa0NBQUFHLE9BQUFKLEdBQUFJLE9BQUFGLEdBRUFHLEVBQUFKLEVBQUEsT0FBQVAsRUFBQSxpQkFBQUMsRUFBQSxTQUVBVyxFQUFBTCxFQUFBLGtDQUVBTSxFQUFBTixFQUFBLGVBQUFQLEVBQUEsS0FBQVUsT0FBQUMsRUFBQUMsRUFBQUgsRUFFQUYsR0FBQSxjQUFBRyxPQUFBRyxJQUlBVCxFQUFBLFdBQ0FHLEVBQUEsSUFBQVAsRUFBQSx3QkFBQWMsR0FBQSxRQUFBLFdBQ0EsR0FBQUMsR0FBQVIsRUFBQSxJQUFBUCxFQUFBLHdCQUFBZ0IsS0FFQUQsSUFBQSxJQUFBQSxFQUFBRSxPQUNBVixFQUFBLElBQUFQLEVBQUEscUJBQUFrQixLQUFBLFlBQUEsR0FFQVgsRUFBQSxJQUFBUCxFQUFBLHFCQUFBa0IsS0FBQSxZQUFBLE1BS0FDLEVBQUEsV0FHQSxRQUFBQyxHQUFBQyxHQUNBLE1BQUEsSUFBQUEsRUFBQSxJQUFBQSxFQUFBQSxFQUhBLEdBQUFDLEdBQUEsR0FBQUMsTUFLQUMsRUFBQUosRUFBQUUsRUFBQUcsWUFDQUMsRUFBQU4sRUFBQUUsRUFBQUssY0FDQUMsRUFBQVIsRUFBQUUsRUFBQU8sY0FDQUMsRUFBQSxJQUFBTixFQUFBLElBQUFFLEVBQUEsSUFBQUUsRUFBQSxHQUNBLE9BQUFFLElBR0F6QixFQUFBLFdBQ0FFLEVBQUEsSUFBQVAsRUFBQSxxQkFBQWMsR0FBQSxRQUFBLFdBUUEsUUFBQWlCLEdBQUFDLEdBRUEsR0FBQWpCLEdBQUFSLEVBQUEsSUFBQVAsRUFBQSx3QkFBQWdCLE1BQ0FjLEVBQUF2QixFQUFBLHVCQUFBUSxLQUFBSSxJQUFBLEtBQ0FjLEVBQUExQixFQUFBLE9BQ0FHLE9BQUFvQixHQUNBcEIsT0FBQXNCLEdBQ0F0QixPQUFBSCxFQUFBLHVCQUFBUSxLQUFBQSxHQUNBLE9BQUFrQixHQWRBLEdBQUFDLEdBQUEzQixFQUFBLHlCQUFBUSxLQUFBLElBQUFmLEVBQUEsTUFHQW1DLEVBQUE1QixFQUFBLDRCQUFBUSxLQUFBLElBQUFmLEVBQUEsS0FjQU8sR0FBQSxJQUFBUCxFQUFBLGdCQUFBVSxPQUFBcUIsRUFBQUcsSUFDQTNCLEVBQUEsSUFBQU4sRUFBQSxnQkFBQVMsT0FBQXFCLEVBQUFJLElBR0E1QixFQUFBLElBQUFQLEVBQUEsd0JBQUFnQixJQUFBLElBRUFULEVBQUEsSUFBQVAsRUFBQSxxQkFBQWtCLEtBQUEsWUFBQSxHQUdBWCxFQUFBLGVBQUE2QixVQUFBN0IsRUFBQSxlQUFBLEdBQUE4QixpQkNqRkFDLE1BQUEsR0FBQTlDLE1BQUEsU0FDQStDLE1BQUEsR0FBQS9DLE1BQUEsU0FDQWdELFVBQUEsR0FBQTNDLFNBQUF5QyxNQUFBMUMsVUFBQTJDLE1BQUEzQyxXQUNBNkMsVUFBQSxHQUFBNUMsU0FBQTBDLE1BQUEzQyxVQUFBMEMsTUFBQTFDLFdBQ0E0QyxVQUFBdEMsT0FDQXVDLFVBQUF2QyIsImZpbGUiOiJkaXN0L2FwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBVc2VyKG5ld05hbWUpe1xuICAgIHZhciBuYW1lID0gbmV3TmFtZTtcblxuICAgIHRoaXMuZ2V0TmFtZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH07XG59XG4iLCJmdW5jdGlvbiBDaGF0QXBwKG5ld1NlbmRlciwgbmV3UmVjaXBpZW50KSB7XG4gICAgdmFyIHNlbmRlciA9IG5ld1NlbmRlcjtcbiAgICB2YXIgcmVjaXBpZW50ID0gbmV3UmVjaXBpZW50O1xuXG4gICAgdGhpcy5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGRyYXdDaGF0KCk7XG4gICAgICAgIGVuYWJsZVNlbmQoKTtcbiAgICAgICAgc2VuZGluZ01lc3NhZ2UoKTtcbiAgICB9O1xuXG4gICAgLy8gQnVpbGRpbmcgdGhlIERPTVxuICAgIHZhciBkcmF3Q2hhdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBCdWlsIGZvcm0gd2l0aCBhbiB0ZXh0ZmllbGQgaW5wdXQgYW5kIGEgc2VuZCBidXR0b25cbiAgICAgICAgdmFyIGlucHV0VGV4dCA9ICQoJzxpbnB1dCBjbGFzcz1cIm1lc3NhZ2VUb1NlbmRcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiU2VuZCBtZXNzYWdlLi4uXCI+Jyk7XG4gICAgICAgIHZhciBidXR0b24gPSAkKCc8aW5wdXQgY2xhc3M9XCJzZW5kQnV0dG9uXCIgdHlwZT1cInN1Ym1pdFwiIHZhbHVlPVwiU2VuZFwiIGRpc2FibGVkPicpO1xuICAgICAgICB2YXIgZm9ybSA9ICQoJzxmb3JtIG9uc3VibWl0PVwicmV0dXJuIGZhbHNlXCI+JykuYXBwZW5kKGlucHV0VGV4dCkuYXBwZW5kKGJ1dHRvbik7XG4gICAgICAgIC8vIFRpdGxlIG9mIHRoZSBjaGF0Ym94XG4gICAgICAgIHZhciB0aXRsZSA9ICQoJzxoMj4nICsgc2VuZGVyICsgJyBkaXNjdXRlIGF2ZWMgJyArIHJlY2lwaWVudCArICc8L2gyPicpO1xuICAgICAgICAvLyBXaGVyZSBtZXNzYWdlcyBhcmUgZGlzcGxheWVkXG4gICAgICAgIHZhciB3aW5kb3dDaGF0ID0gJCgnPGRpdiBjbGFzcz1cImNoYXRXaW5kb3dcIj48L2Rpdj4nKTtcbiAgICAgICAgLy8gVGhlIGNoYXRib3ggdGhhdCBjb250YWlucyBhbGxcbiAgICAgICAgdmFyIGNoYXRNb2R1bGUgPSAkKCc8c2VjdGlvbiBpZD0nICsgc2VuZGVyICsgJz4nKS5hcHBlbmQodGl0bGUsIHdpbmRvd0NoYXQsIGZvcm0pO1xuICAgICAgICAvLyBGaW5hbGx5XG4gICAgICAgICQoJyNjb250YWluZXInKS5hcHBlbmQoY2hhdE1vZHVsZSk7XG4gICAgfTtcblxuICAgIC8vIEVuYWJsZSB0aGUgc2VuZCBidXR0b24gd2hlbiBzb21ldGhpbmcgaXMgd3JpdGUgaW4gdGhlIHRleHRmaWVsZCBpbnB1dFxuICAgIHZhciBlbmFibGVTZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICQoJyMnICsgc2VuZGVyICsgJyBpbnB1dC5tZXNzYWdlVG9TZW5kJykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdGV4dCA9ICQoJyMnICsgc2VuZGVyICsgJyBpbnB1dC5tZXNzYWdlVG9TZW5kJykudmFsKCk7XG4gICAgICAgICAgICAvLyBJZiB0ZXh0ZWZpZWxkIGlucHV0IGlzIG5vdCBlbXB0eVxuICAgICAgICAgICAgaWYgKHRleHQgJiYgdGV4dC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAkKCcjJyArIHNlbmRlciArICcgaW5wdXQuc2VuZEJ1dHRvbicpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCcjJyArIHNlbmRlciArICcgaW5wdXQuc2VuZEJ1dHRvbicpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0VGltZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gcGFkKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBuIDwgMTAgPyAnMCcgKyBuIDogbjtcbiAgICAgICAgfSAvLyByZXR1cm4gdGhlIHRpbWUgZm9ybWF0ZWQgMDAgaWYgdGltZSA8IDEwXG4gICAgICAgIHZhciBob3VycyA9IHBhZChkYXRlLmdldEhvdXJzKCkpO1xuICAgICAgICB2YXIgbWludXRlcyA9IHBhZChkYXRlLmdldE1pbnV0ZXMoKSk7XG4gICAgICAgIHZhciBzZWNvbmRlcyA9IHBhZChkYXRlLmdldFNlY29uZHMoKSk7XG4gICAgICAgIHZhciB0aW1lID0gJ1snICsgaG91cnMgKyAnOicgKyBtaW51dGVzICsgJzonICsgc2Vjb25kZXMgKyAnXSc7XG4gICAgICAgIHJldHVybiB0aW1lO1xuICAgIH07XG5cbiAgICB2YXIgc2VuZGluZ01lc3NhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJCgnIycgKyBzZW5kZXIgKyAnIGlucHV0LnNlbmRCdXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vYWRkIGNsYXNzIHRvIGNvbG9yIHRoZSBuYW1lIG9mIHRoZSBzZW5kZXIgZm9yIHRoZSBzZW5kZXJcbiAgICAgICAgICAgIHZhciBkaXNwbGF5U2VuZGVyID0gJCgnPHNwYW4gY2xhc3M9XCJzZW5kZXJcIj4nKS50ZXh0KCc8JyArIHNlbmRlciArICc+ICcpO1xuXG4gICAgICAgICAgICAvL2FkZCBjbGFzcyB0byBjb2xvciB0aGUgbmFtZSBvZiB0aGUgc2VuZGVyIGZvciB0aGUgcmVjaXBpZW50XG4gICAgICAgICAgICB2YXIgZGlzcGxheVJlY2lwaWVudCA9ICQoJzxzcGFuIGNsYXNzPVwicmVjaXBpZW50XCI+JykudGV4dCgnPCcgKyBzZW5kZXIgKyAnPiAnKTtcblxuICAgICAgICAgICAgLy8gQ29uc3RydWN0IHRoZSByZWNlaXZlZCBsaW5lIGFuZCBzZW5kIGxpbmVcbiAgICAgICAgICAgIGZ1bmN0aW9uIGxpbmVDb25zdHJ1Y3QoZGlzcGxheVVzZXIpe1xuICAgICAgICAgICAgICAgIC8vIHRleHQgb2YgbWVzc2FnZVxuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gJCgnIycgKyBzZW5kZXIgKyAnIGlucHV0Lm1lc3NhZ2VUb1NlbmQnKS52YWwoKTtcbiAgICAgICAgICAgICAgICB2YXIgdGltZSA9ICQoJzxzcGFuIGNsYXNzPVwidGltZVwiPicpLnRleHQoZ2V0VGltZSgpICsgJyAnKTtcbiAgICAgICAgICAgICAgICB2YXIgbGluZSA9ICQoJzxwPicpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQodGltZSlcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChkaXNwbGF5VXNlcilcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8c3BhbiBjbGFzcz1cInRleHRcIj4nKS50ZXh0KHRleHQpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGluZTtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJCgnIycgKyBzZW5kZXIgKyAnIC5jaGF0V2luZG93JykuYXBwZW5kKGxpbmVDb25zdHJ1Y3QoZGlzcGxheVNlbmRlcikpO1xuICAgICAgICAgICAgJCgnIycgKyByZWNpcGllbnQgKyAnIC5jaGF0V2luZG93JykuYXBwZW5kKGxpbmVDb25zdHJ1Y3QoZGlzcGxheVJlY2lwaWVudCkpO1xuXG4gICAgICAgICAgICAvLyBDbGVhciB0ZXh0ZmllbGQgaW5wdXRcbiAgICAgICAgICAgICQoJyMnICsgc2VuZGVyICsgJyBpbnB1dC5tZXNzYWdlVG9TZW5kJykudmFsKCcnKTtcbiAgICAgICAgICAgIC8vIERpc2FibGUgc2VuZCBidXR0b25cbiAgICAgICAgICAgICQoJyMnICsgc2VuZGVyICsgJyBpbnB1dC5zZW5kQnV0dG9uJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcblxuICAgICAgICAgICAgLy9TY3JvbGwgYm90dG9tIHRvIHNlZSB0aGUgbGFzdCBtZXNzYWdlIHNlbmQgb3IgcmVjZWl2ZWRcbiAgICAgICAgICAgICQoXCIuY2hhdFdpbmRvd1wiKS5zY3JvbGxUb3AoJChcIi5jaGF0V2luZG93XCIpWzBdLnNjcm9sbEhlaWdodCk7XG4gICAgICAgIH0pO1xuICAgIH07XG59XG4iLCJ1c2VyMSA9IG5ldyBVc2VyKCdVc2VyMScpO1xudXNlcjIgPSBuZXcgVXNlcignVXNlcjInKTtcbnVzZXIxQ2hhdCA9IG5ldyBDaGF0QXBwKHVzZXIxLmdldE5hbWUoKSx1c2VyMi5nZXROYW1lKCkpO1xudXNlcjJDaGF0ID0gbmV3IENoYXRBcHAodXNlcjIuZ2V0TmFtZSgpLHVzZXIxLmdldE5hbWUoKSk7XG51c2VyMUNoYXQuaW5pdCgpO1xudXNlcjJDaGF0LmluaXQoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
